(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{16:function(e,t,n){e.exports={default:"CustomButton_default__3mziG",red:"CustomButton_red__LqAzu",button:"CustomButton_button__1kKFn"}},20:function(e,t,n){e.exports={app:"App_app__1kX79",wrap:"App_wrap__29kNz"}},21:function(e,t,n){e.exports={checkbox:"CustomCheckbox_checkbox__34nPX",spanClassName:"CustomCheckbox_spanClassName__1DG_h"}},3:function(e,t,n){e.exports={mainContainer:"ConfirmPassword_mainContainer__37LgT",content:"ConfirmPassword_content__3I2Of",btn:"ConfirmPassword_btn__15tKx",inputEmail:"ConfirmPassword_inputEmail__dmZdh",inputPassword:"ConfirmPassword_inputPassword__rDF5N",letterImg:"ConfirmPassword_letterImg__3UhNI",errorImg:"ConfirmPassword_errorImg__1CPVm"}},37:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),s=n.n(a),i=(n(37),n(10)),o=n(5),l=n(2),j=n(20),d=n.n(j),u=n(9),b=(n(15),n(16),n(1)),h=(n(21),n(4)),p={},O=n(31),m=n.n(O).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),x=function(e){return m.post("auth/login",e)},f=function(){return m.delete("auth/login")},g={_id:null,avatar:null,name:null,email:null,password:null,rememberMe:!1,isAuth:!1,verified:!1,error:null},w=n(3),v=n.n(w),_=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(h.a)(a,2),j=s[0],d=s[1],u=Object(c.useState)(!1),p=Object(h.a)(u,2),O=p[0],m=p[1],f=Object(i.b)(),g=Object(i.c)((function(e){return e.login.verified})),w=Object(i.c)((function(e){return e.login.error})),_={email:n,password:j,rememberMe:!0},C=Object(c.useCallback)((function(e){f(function(e){return function(t){x(e).then((function(e){var n=e.data,c=n._id,r=n.name,a=n.verified;t(function(e,t,n){return{type:"SET_USER_DATA",payload:{_id:e,name:t,verified:n}}}(c,r,a))})).catch((function(e){var n=e.response?e.response.data.error:"".concat(e.message,", more details in the console");t(function(e){return{type:"SET_ERROR_MESSAGE",error:e}}(n))}))}}(e))}),[f]);return g?Object(b.jsx)(l.a,{to:"/profile"}):Object(b.jsx)("div",{className:v.a.mainContainer,children:Object(b.jsxs)("div",{className:v.a.content,children:[Object(b.jsx)("h3",{children:" LOGIN "}),w?Object(b.jsxs)("span",{style:{color:"red"},children:[" ",w," "]}):"",Object(b.jsx)("input",{type:"text",onChange:function(e){return r(e.currentTarget.value)},value:n,placeholder:"Email",className:v.a.inputEmail}),Object(b.jsx)("input",{type:"password",onChange:function(e){return d(e.currentTarget.value)},value:j,placeholder:"Password",className:v.a.inputEmail}),Object(b.jsxs)("div",{children:["remember me",Object(b.jsx)("input",{type:"checkbox",checked:O,onChange:function(e){return m(e.currentTarget.checked)}})]}),Object(b.jsx)("div",{children:Object(b.jsx)(o.b,{to:"/confirmPassword",children:" forgot password "})}),Object(b.jsx)("button",{onClick:function(){_&&C(_)},className:v.a.btn,children:"Sign In"}),Object(b.jsx)("span",{children:" Don`t have an account? "}),Object(b.jsx)(o.b,{to:"/registration",children:" Sign Up "})]})})},C=function(e){return m.post("auth/forgot",e)},N=function(e){return m.post("auth/set-new-password",e)},k=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(h.a)(a,2),i=s[0],j=s[1],d=Object(c.useState)(!1),u=Object(h.a)(d,2),p=u[0],O=u[1],m={email:n,from:"test-front-admin <samutic40@gmail.com>",message:"<div style='background-color: #ffd500; \npadding: 15px; \nborder-color: #ff9900; \nwidth: 250px;\nheight: 30px'> \npassword recovery link: <a href='http://localhost:3000/#/createNewPassword/$token$'> recovery link </a></div>"};return p?Object(b.jsx)(l.a,{to:"/popup"}):Object(b.jsx)("div",{className:v.a.mainContainer,children:i?Object(b.jsx)("div",{children:"Sending..."}):Object(b.jsxs)("div",{className:v.a.content,children:[Object(b.jsx)("span",{children:"it-incubator"}),Object(b.jsx)("span",{children:"Forgot your password?"}),Object(b.jsx)("input",{className:v.a.inputEmail,type:"email",placeholder:"Email",value:n,onChange:function(e){r(e.currentTarget.value)},required:!0}),Object(b.jsx)("p",{children:" Enter your email and we will send you further instructions"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:v.a.btn,onClick:function(){r(""),j(!0),C(m).then((function(){j(!1),O(!0)})).catch((function(e){console.log(e.data)}))},children:"send instructions"})}),Object(b.jsx)("span",{children:"Did you remember your password?"}),Object(b.jsx)(o.b,{to:"/login",children:" Try logging in "})]})})},y=n.p+"static/media/error.6b88fd10.png",E=n.p+"static/media/letter.3761fe05.png",S=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:v.a.mainContainer,children:Object(b.jsxs)("div",{className:v.a.content,children:[Object(b.jsx)("div",{className:v.a.closeBtn,children:Object(b.jsx)("span",{className:v.a.spanClose,children:"it-incubator"})}),Object(b.jsx)("img",{className:v.a.letterImg,src:E,alt:"letter"}),Object(b.jsx)("span",{children:"Check Email"}),Object(b.jsx)("p",{children:"We have sent the Email with instructions to your email "})]})})})},P=function(e){var t=e.error,n=e.setError;return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:v.a.mainContainer,children:Object(b.jsxs)("div",{className:v.a.content,children:[Object(b.jsx)("span",{className:v.a.spanClose,children:"it-incubator"}),Object(b.jsx)("img",{className:v.a.errorImg,src:y,alt:"error"}),Object(b.jsx)("span",{children:"Try again"}),Object(b.jsx)("span",{children:"Something goes wrong"}),Object(b.jsx)(o.b,{to:"/confirmPassword",onClick:function(){n(!t)},children:"Create new password again"})]})})})},T=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(h.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(!1),d=Object(h.a)(j,2),u=d[0],p=d[1],O=Object(l.f)(),m={password:n,resetPasswordToken:O.pathname.split("/")[O.pathname.split("/").length-1]};return i?Object(b.jsx)(l.a,{to:"/login"}):Object(b.jsx)("div",{className:v.a.mainContainer,children:u?Object(b.jsx)(P,{error:u,setError:p}):Object(b.jsxs)("div",{className:v.a.content,children:[Object(b.jsx)("span",{children:"it-incubator"}),Object(b.jsx)("span",{children:"Create new password"}),Object(b.jsx)("input",{className:v.a.inputPassword,type:"password",placeholder:"Password",value:n,onChange:function(e){r(e.currentTarget.value)},required:!0}),Object(b.jsx)("p",{children:" Create new password and we will send you further instructions to email"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:v.a.btn,onClick:function(){N(m).then((function(){o(!0)})).catch((function(){p(!0)}))},children:"create new password"})})]})})},I=function(){var e=Object(i.c)((function(e){return e.login.name})),t=Object(i.c)((function(e){return e.login.verified})),n=Object(i.b)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:" Profile "}),Object(b.jsx)("span",{children:e}),t?Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){n((function(e){f().then((function(){e({type:"SET_LOGIN_DATA",payload:{email:null,password:null,rememberMe:!1}})}))}))},children:"LOG OUT"})}):Object(b.jsx)(o.c,{to:"/login",children:"Login"})]})},A=function(){return Object(b.jsx)("div",{style:{textAlign:"center",width:"700px",margin:"50px"},children:Object(b.jsx)("p",{children:" We think a lot about CustomInput and decided to use customInputHook"})})},L=function(){return Object(b.jsxs)("div",{className:d.a.app,children:[Object(b.jsx)(o.c,{to:"/createNewPassword/*",children:" create new password"}),"---",Object(b.jsx)(o.c,{to:"/confirmPassword",children:" confirm password"}),"---",Object(b.jsx)(o.c,{to:"/login",children:" login "}),"---",Object(b.jsx)(o.c,{to:"/registration",children:" registration "}),"---",Object(b.jsx)(o.c,{to:"/profile",children:" profile "}),"---",Object(b.jsx)("div",{className:d.a.wrap,children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/login",element:Object(b.jsx)(_,{})}),Object(b.jsx)(l.b,{path:"/registration",element:Object(b.jsx)("h1",{children:"registration"})}),Object(b.jsx)(l.b,{path:"/profile",element:Object(b.jsx)(I,{})}),Object(b.jsx)(l.b,{path:"/*",element:Object(b.jsx)("h1",{children:"404:page NOT found"})}),Object(b.jsx)(l.b,{path:"/confirmPassword",element:Object(b.jsx)(k,{})}),Object(b.jsx)(l.b,{path:"/popup",element:Object(b.jsx)(S,{})}),Object(b.jsx)(l.b,{path:"/createNewPassword/*",element:Object(b.jsx)(T,{})}),Object(b.jsx)(l.b,{path:"/",element:Object(b.jsx)(A,{})})]})})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},R=n(17),G=n(32),F=Object(R.b)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return t.type,e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN_DATA":case"SET_USER_DATA":return Object(u.a)(Object(u.a)({},e),t.payload);case"SET_ERROR_MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{error:t.error});default:return e}}}),B=Object(R.c)(F,Object(R.a)(G.a));window.store=B,s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(i.a,{store:B,children:Object(b.jsx)(L,{})})})}),document.getElementById("root")),D()}},[[63,1,2]]]);
//# sourceMappingURL=main.4654a18f.chunk.js.map